<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference
  PUBLIC "urn:pubid:zenoss.com:doctypes:dita:dtd:reference" "reference.dtd">
<reference id="d61e112"><title>Command</title><refbody><section><ul>
        <li>
          <p><b>run</b> - Starts Zope in the
          foreground, on the port normally used by the load balancer. Neither
          the load balancer nor other Zope servers are used.</p>
        </li>

        <li>
          <p><b>start</b> - Starts the load
          balancer and Zope servers. If any are running already, they are
          ignored.</p>
        </li>

        <li>
          <p><b>stop</b> - Stops the load
          balancer and Zope servers. If any are stopped already, they are
          ignored.</p>
        </li>

        <li>
          <p><b>restart</b> - Stops and then
          restarts the load balancer and Zope servers. To minimize downtime,
          the load balancer is restarted first, and then each Zope server in
          turn. This ensures that the Zope server pool is never empty.</p>
        </li>

        <li>
          <p><b>status</b> - Provides status
          information. It prints the status of the load balancer, including
          its PID.</p>
        </li>

        <li>
          <p><b>deploy</b> - Creates or destroys
          Zope instances. It adds or removes instances from the server pool
          and updates the load balancer to reference the altered server pool.
          If the load balancer is running already, then its configuration is
          reloaded without stopping it.</p>
        </li>

        <li>
          <p><b>reload</b> - Reloads the load
          balancer configuration. For example, if you make a change to the
          nginx configuration to listen at a different port, reload it to use
          the new port without restarting.</p>
        </li>

        <li>
          <p><b>attach</b> - Returns a detached
          Zope server to the server pool and updates the load balancer.</p>
        </li>

        <li>
          <p><b>detach</b> - Removes a Zope
          server from the server pool and updates the load balancer. (Zope
          continues to run, but does not get traffic from the load
          balancer.)</p>
        </li>

        <li>
          <p><b>debug</b> - Deploys a Zope server
          without adding it to the server pool, starting it immediately in the
          foreground. This server can only be accessed directly. The server is
          automatically destroyed upon exiting the process.</p>
        </li>

        <li>
          <p><b>help</b> - Returns command usage
          information.</p>
        </li>

        <li>
          <p><b>configure</b> - Generates a new
          <filepath>nginx.conf</filepath> file, based on properties in
          <filepath>$ZENHOME/etc/zenwebserver.conf</filepath>. The properties
          and their defaults are shown in the following table.</p>

          <table>
            <tgroup cols="3">
              <colspec colname="c1" colwidth="1*"/>
              <colspec colname="c2" colwidth="2*"/>
              <colspec colname="c3" colwidth="4*"/>
              <thead>
                <row>
                  <entry align="center"> Property</entry>

                  <entry align="center">Default Value </entry>

                  <entry align="center">Description </entry>
                </row>
              </thead>

              <tbody>
                <row>
                  <entry>httpPort</entry>

                  <entry>8080</entry>

                  <entry>Specifies the port to accept the HTTP
                  request.</entry>
                </row>

                <row>
                  <entry>useSSL</entry>

                  <entry>False</entry>

                  <entry>Specifies whether SSL config should be used. Set to a
                  value of True to enable.</entry>
                </row>

                <row>
                  <entry>sslPort</entry>

                  <entry>443</entry>

                  <entry>Specifies the port to use if useSSL is set.</entry>
                </row>

                <row>
                  <entry>sslCert</entry>

                  <entry><filepath>ZENHOME/etc/ssl/zenoss.crt</filepath></entry>

                  <entry>Specifies the path to the SSL certificate if useSSL
                  is set.</entry>
                </row>

                <row>
                  <entry>sslKey</entry>

                  <entry><filepath>ZENHOME/etc/ssl/zenoss.key</filepath></entry>

                  <entry>Specifies the path to the SSL key if useSSL is
                  set.</entry>
                </row>
              </tbody>
            </tgroup>
          </table>

          <p>The generated configuration should not be edited. Use the
          properties in <filepath>$ZENHOME/etc/zenwebserver.conf</filepath> to
          customize generation of the <filepath>nginx.conf</filepath>
          file.</p>

          <p>After running <filepath>zenwebserver configure</filepath>, you
          must reload (<filepath>zenwebserver reload</filepath>) or restart
          (<filepath>zenwebserver restart</filepath>) for the new
          configuration to take effect.</p>
        </li>
      </ul></section></refbody></reference>
